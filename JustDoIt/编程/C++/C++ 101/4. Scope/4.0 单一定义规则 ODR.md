
单一定义规则（The one definition rule，简称ODR）是C++中一项重要的规则，它包含以下三个部分：

1. 文件内单一定义

在同一个文件中，每个函数、变量、类型或模板在给定作用域内只能有一个定义。在不同作用域中的定义（例如在不同函数内定义的局部变量，或在不同命名空间中定义的函数）不会违反此规则。

2. 程序内单一定义

在整个程序中，每个函数或变量在给定作用域内只能有一个定义。这条规则的存在是因为程序可能由多个文件组成。对于链接器不可见的函数和变量不受此规则限制。

3. 允许重复定义的特殊情况

类型、模板、内联函数和内联变量**允许**在不同文件中有重复定义，只要每个定义**完全相同**即可。

此外，共享相同标识符但参数列表不同的函数（即函数重载）被视为不同的函数，因此这类定义不会违反ODR规则。

注：ODR规则是保证C++程序正确链接和执行的基础规则，理解并遵守这一规则对编写跨文件的C++程序至关重要。